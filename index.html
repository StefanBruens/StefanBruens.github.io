<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Video</title>
		<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"> -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.video_viewer {
	height:100%;
	width:100%;
}
.video {
	width:100%;
}
.controls, .controls > * {
	padding:0;
	margin:0;
}
.controls {
	overflow:hidden;
	background:transparent;
	width:100%;
	height:2em;
	position:relative;
}
.controls[data-state=visible] {
	display:block;
}
.controls button {
        font-family: 'FontAwesome';
}
.controls button::after {
        content: attr(data-fa-icon);
}
.controls > * {
	float:left;
	width:3.8%;
	height:100%;
	margin-left:0.2%;
	display:block;
}
.controls > *:first-child {
	margin-left:0;
}
.controls .progress {
	cursor:pointer;
	width:84%;
}
.controls progress {
	width:100%;
	height:100%;
}
</style>
	<script type="text/javascript">
window.onload = function (e) {
	'use strict';
	var video = document.getElementById('video');
	video.textTracks[0].mode = 'showing';

	// Obtain handles to buttons and other elements
	var playpause = document.getElementById('playpause');
	var prev = document.getElementById('prev');
	var next = document.getElementById('next');
	var progress = document.getElementById('progress');
	var progressBar = document.getElementById('progress-bar');
	var subtitles = document.getElementById('subtitles');

	video.addEventListener('loadedmetadata', function() {
		progress.setAttribute('max', video.duration);
	});

	// As the video is playing, update the progress bar
	video.addEventListener('timeupdate', function() {
		// For mobile browsers, ensure that the progress element's max attribute is set
		if (!progress.getAttribute('max')) progress.setAttribute('max', video.duration);
		progress.value = video.currentTime;
		progressBar.style.width = Math.floor((video.currentTime / video.duration) * 100) + '%';
	});

	// React to the user clicking within the progress bar
	progress.addEventListener('click', function(e) {
		// Also need to take the parents into account here as .controls and figure now have position:relative
		var pos = (e.pageX  - (this.offsetLeft + this.offsetParent.offsetLeft + this.offsetParent.offsetParent.offsetLeft)) / this.offsetWidth;
		video.currentTime = pos * video.duration;
	});

	playpause.addEventListener('click', function(e) {
		if (video.paused || video.ended) video.play();
		else video.pause();
	});

	// Add event listeners for video specific events
	video.addEventListener('play', function() {
		playpause.setAttribute('data-fa-icon', '\uf04c');
	}, false);

	video.addEventListener('pause', function() {
		playpause.setAttribute('data-fa-icon', '\uf04b');
	}, false);

	prev.addEventListener('click', function(e) {
		if (video.paused) video.currentTime -= 0.04;
	});

	next.addEventListener('click', function(e) {
		if (video.paused) video.currentTime += 0.04;
	});

	subtitles.addEventListener('click', function(e) {
		if (video.textTracks[0].mode == 'showing') {
			video.textTracks[0].mode = 'hidden';
		} else {
			video.textTracks[0].mode = 'showing';
			// Workaround for FF, otherwise its only shown on the next frame
			if (video.paused) video.currentTime += 0;
		}
	});

};
	</script>

	</head>
	<body>
		<div id="video_viewer">
			<video id="video" src="index_files/video.ogv" style="display: block; max-width: 100%; margin: 0 auto;">
				<track default="" kind="subtitles" srclang="en" label="Timestamps" src="index_files/video_time.vtt">
			</video>
			<div id="video-controls" class="controls" data-state="visible">
				<button id="playpause" class="fas" type="button" data-fa-icon="&#xf04b;"></button>
				<button id="prev" class="fas" type="button" data-fa-icon="&#xf104;"></button>
				<button id="next" class="fas" type="button" data-fa-icon="&#xf105;"></button>
				<div class="progress">
					<progress id="progress" value="0" min="0" max="0">
						<span id="progress-bar"></span>
					</progress>
				</div>
				<button id="subtitles" class="fas" type="button" data-fa-icon="&#xf017;"></button>
			</div>
		</div>

</body></html>
